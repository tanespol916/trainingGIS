<div class="bg-white pt-6">
    <app-segmented-nav-component />
    <div
        class="mx-auto mt-8 bg-white ring-1 ring-zinc-100 max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-12 lg:gap-x-8 lg:px-8 lg:py-32">
        <div class="lg:col-span-4">
            <app-review-summary-component [summary]="summary()" />
            <app-write-review-component (reviewSubmitted)="loadReviews()" />
        </div>

        <div class="mt-16 lg:col-span-7 lg:col-start-6 lg:mt-0 max-h-150 overflow-y-auto pr-2">
            <!-- ðŸ”„ Skeleton loading -->
            <ng-container *ngIf="isLoading(); else reviewList">
                <div class="space-y-10">
                    <div *ngFor="let _ of [1,2,3,4]">
                        <div class="flex gap-4">
                            <p-skeleton shape="circle" size="3rem"></p-skeleton>
                            <div class="flex-1 space-y-3">
                                <p-skeleton width="30%"></p-skeleton>
                                <p-skeleton width="50%"></p-skeleton>
                                <p-skeleton height="4rem"></p-skeleton>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>

            <!-- âœ… Review list -->
            <ng-template #reviewList>
                <div class="flow-root">
                    <div class="-my-12 divide-y divide-gray-200">
                        <app-review-item-component *ngFor="let item of reviews()" [review]="item" />
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</div>